<html>

<head>
    <!-- Page styling here -->
    <link rel='stylesheet' type='text/css' href='./style/style.css'>

    <!--Countly script-->
    <script type='text/javascript' src='../lib/countly.js'></script>
    <script type='text/javascript'>

        //initializing countly with params and remote config
        Countly.init({
            app_key: "80bd43f428ffd7c840e5881b576a4153a2d5a3fe",
            url: "https://abhishek.count.ly", //your server goes here
            debug: true,
            remote_config: function (err, configs) {
                //handle initial remote configs here
                console.log(err, configs);
            }
        })
    </script>
</head>

<body>
    <!-- Header, banner etc. Top part of your site  -->
    <div id="header">
        <h1>Remote Config</h1>
        <img id="logo" src="./images/logo.png">
    </div>

    <center>
        <img src="./images/team_countly.jpg" id="wallpaper" />
        <br />
        <input type="button" onclick="reloadConfig()" value="Get Config (Legacy)">
        <input type="button" onclick="reloadConfig(['test_1'])" value="Get Config (1 correct key)">
        <input type="button" onclick="reloadConfig(['test_1','test_2'])" value="Get Config (2 correct keys)">
        <input type="button" onclick="reloadConfig(['test_10'])" value="Get Config (1 wrong key)">
        <input type="button" onclick="reloadConfig(['test_10','asd'])" value="Get Config (2 wrong keys)">
        <input type="button" onclick="reloadConfig(0)" value="Get Config (opt out)">
        <input type="button" onclick="reloadConfig(null, ['test_1'])" value="Get Config (1 omit key)">
        <input type="button" onclick="reloadConfig(null, ['test_1','test_2'])" value="Get Config (2 omit keys)">
        <input type="button" onclick="reloadConfigv2(['test_1'])" value="Get Config (1 correct key)">
        <input type="button" onclick="reloadConfigv2(['test_1','test_2'])" value="Get Config (2 correct keys)">
        <input type="button" onclick="reloadConfigv2(['test_10'])" value="Get Config (1 wrong key)">
        <input type="button" onclick="reloadConfigv2(['test_10','asd'])" value="Get Config (2 wrong keys)">
        <input type="button" onclick="reloadConfigv2(0)" value="Get Config (opt out)">
        <input type="button" onclick="reloadConfigv2(null, ['test_1'])" value="Get Config (1 omit key)">
        <input type="button" onclick="reloadConfigv2(null, ['test_1','test_2'])" value="Get Config (2 omit keys)">
        <input type="button" onclick="ab(['test_1'])" value="AB key report (1 correct key)">
        <input type="button" onclick="ab(['test_1','test_2'])" value="AB key report (2 correct keys)">
        <input type="button" onclick="ab([])" value="AB key report (Empty Array)">
        <input type="button" onclick="ab(['test_10'])" value="AB key report (1 wrong key)">
        <input type="button" onclick="ab(['test_1','sad'])" value="AB key report (2 wrong keys)">
        <input type="button" onclick="ab(undefined)" value="AB key report (undefined key)">
        <input type="button" onclick="getConfig()" value="Get Config (Storage)">
        <input type="button" onclick="getConfig('test_2')" value="Get config with key (Storage)">
        <p><a href='http://count.ly/'>Count.ly</a></p>
    </center>
    <script type='text/javascript'>
        //reload configs
        function reloadConfig(a,b,c) {
            Countly.fetch_remote_config(a,b,c,function (err, config) {
                alert(JSON.stringify(config));
            });
        }
        function reloadConfigv2(a,b,c) {
            Countly.fetch_remote_config_v2(a,b,c,function (err, config) {
                alert(JSON.stringify(config));
            });
        }
        function ab(keyRay) {
            Countly.optAB(keyRay);
        }

        //get config
        function getConfig(key) {
            alert(JSON.stringify(Countly.get_remote_config(key)));
        }
    </script>
</body>

</html>